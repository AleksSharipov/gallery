{"version":3,"sources":["components/Cards.js","components/Main.js","components/ImagePopup.js","utils/api.js","components/App.js","index.js"],"names":["Cards","card","handleCardClick","link","urls","regular","id","handleClick","e","className","src","alt","onClick","target","Main","cards","onCardClick","map","ImagePopup","onClose","useState","inpValue","setInpValue","comments","setComments","name","comment","value","Math","random","type","onChange","placeholder","preventDefault","prev","api","baseUrl","token","this","fetch","method","headers","autorization","then","res","ok","json","Promise","reject","Error","status","App","setCards","showCard","setShowCard","useEffect","getCards","catch","err","console","log","obj","cardAddComment","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.03253237.chunk.js","sourcesContent":["export default function Cards({card, handleCardClick}) {\r\n\r\n  function likeCard(e){\r\n    if(e.target.className === 'btn btn__like'){\r\n      e.target.className = `btn btn__like_active`\r\n    }else  {\r\n      e.target.className = 'btn btn__like';\r\n    }\r\n  }\r\n  const link = card.urls.regular;\r\n  const id = card.id\r\n  function handleClick(e) {\r\n    handleCardClick({\r\n      link,\r\n      id\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <li className=\"card__element\">\r\n      <img className=\"card__img\" src={link} alt=\"fire\" onClick={handleClick}></img>\r\n      <div className=\"btns\">\r\n        <div>\r\n        <button className=\"btn btn__like\" onClick={likeCard}></button>\r\n        </div>\r\n        <button onClick={handleClick} className=\"btn btn__msg\"></button>\r\n      </div>\r\n    </li>\r\n  </>\r\n  )\r\n} ","import Cards from './Cards';\r\n\r\nexport default function Main({cards, onCardClick}){\r\n  return (\r\n    <section className=\"cards\">\r\n        <ul className=\"card\">\r\n         {\r\n           cards.map((card)=>{\r\n             return (\r\n               <Cards\r\n                  key={card.id}\r\n                  card={card}\r\n                  handleCardClick = {onCardClick}\r\n                  \r\n               />\r\n             )\r\n           })\r\n         }\r\n        </ul>\r\n      </section>\r\n  )\r\n}","import {  useState } from \"react\";\r\n\r\nexport default function ImagePopup({card, onClose}){\r\n\r\n  const [inpValue, setInpValue] = useState('');\r\n  const [comments, setComments] = useState([]);\r\n\r\n  function addComment(e){\r\n    e.preventDefault();\r\n    if(inpValue){\r\n      setComments((prev)=>[...prev, {\r\n        value:inpValue,\r\n        id: card.id\r\n      }]);\r\n      setInpValue('')\r\n    }\r\n  }\r\n  \r\n  function changeInpValue(e){\r\n    setInpValue(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <section className={card.link ? `popup popup-show-card popup_opened` : `popup popup-show-card`}\r\n      >\r\n\r\n    <div className=\"popup__fullcard\">\r\n    <div className=\"popup__body popup__body-card\">\r\n        \r\n        <img className=\"popup__img\" src={card.link} alt={card.name} />\r\n      </div>\r\n      <div className=\"popup__comment\">\r\n        <div className=\"popup__comment_list\">\r\n          {\r\n            comments.map((comment) => {\r\n              if(card.id === comment.id){\r\n                return (\r\n                  <p className=\"popup__comment_text\" key={Math.random()}><span className=\"popup__comment_text-bold\">Пользователь: </span>{comment.value}</p>\r\n                )\r\n              }\r\n            })\r\n          }\r\n        </div>\r\n        <form   className=\"popup__form\">\r\n          <button \r\n            className=\"popup__close button-hover\" \r\n            type=\"button\" \r\n            onClick={onClose}\r\n          />\r\n            <input \r\n              value={inpValue} \r\n              onChange={changeInpValue}\r\n              placeholder=\"comment\"\r\n              className=\"popup__input \"\r\n            />\r\n            <button onClick={addComment} className=\"popup__form-btn\">Add</button>\r\n          </form>\r\n      </div>\r\n    </div>\r\n     \r\n      \r\n    </section>\r\n  )\r\n}","class Api {\r\n  constructor(baseUrl, token) {\r\n    this.baseUrl = baseUrl;\r\n    this.token = token\r\n  }\r\n\r\n  getCards(){\r\n    return fetch(`${this.baseUrl}/photos/random?collections=228275&orientation=landscape&count=30&client_id=${this.token}`, {\r\n      method: 'GET',\r\n      headers: {\r\n        autorization: `Client-ID ${this.token}`,\r\n      }\r\n    })\r\n      .then((res)=>{\r\n        if(res.ok){\r\n          return res.json();\r\n        }\r\n        return Promise.reject(new Error(`Error ${res.status}`))\r\n      })\r\n\r\n  }\r\n}\r\n\r\nconst baseUrl = `https://api.unsplash.com`;\r\nconst token = `useg_kyexGi1NKV7upkROzPnQH6ocXefcRjiLgmmDhU`;\r\n\r\nexport const api = new Api (baseUrl, token);\r\n\r\n","import { useEffect, useState } from 'react';\nimport Main from './Main';\nimport ImagePopup from './ImagePopup';\nimport {api} from '../utils/api';\n\nfunction App() {\n\n  const [cards, setCards] = useState([]);\n  const [showCard, setShowCard] = useState({});\n\n  const cardAddComment = (obj) => {\n    console.log(obj.comments)\n  }\n\n  useEffect(()=>{\n    api.getCards()\n      .then((res)=>{\n        setCards(res)\n      })\n      .catch((err)=>{\n        console.log(err)\n      })\n  }, [])\n\n  const handleCardClick = (obj) =>{\n    // console.log(obj)\n    return setShowCard(obj)\n  }\n\n  const closePopup = () => {\n    setShowCard({});\n  }\n\n  return (\n    <div className=\"root\">\n      <Main\n        cards = {cards}\n        onCardClick = {handleCardClick}\n        \n      />\n      <ImagePopup\n        card={showCard}\n        onClose={closePopup}\n        cardAddComment={cardAddComment}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}